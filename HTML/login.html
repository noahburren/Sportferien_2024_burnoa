<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="login.css" />
    <link
      rel="icon"
      href="C:\Users\noahb\Sportferien_2024_burnoa\IMG\Bild1.ico"
      type="image/x-icon"
    />
    <script src="C:\Users\noahb\Sportferien_2024_burnoa\JS\login.js"></script>
  </head>
  <header>
    <h1>Baseball Fitness Planer</h1>
  </header>

  <nav>
    <a href="Homepage.html">Home</a>
    <a href="login.html">Gymplan</a>
    <a href="#tracking">Fitness Tracking</a>
    <a href="about.html">About Us</a>
  </nav>
  <body>
    <div id="container">
      <div id="tabs">
        <p id="lt" class="tabs" onclick="loginTabFun(event)">Log in</p>
        <p id="rt" class="tabs" onclick="regTabFun(event)">Register</p>

        <div id="clear"></div>
      </div>

      <div id="cont">
        <div id="login" class="comm">
          <h3>Sign in</h3>

          <input id="se" type="email" placeholder="Email" required />
          <input id="sp" type="password" placeholder="Password" required />
          <input type="submit" onclick="login(event)" value="Submit" />

          <p onclick="forTabFun(event)">Forget Password?</p>
        </div>
        <div id="register" class="comm">
          <h3>Register</h3>

          <form id="registerForm">
            <input id="re" type="email" placeholder="Email" required />
            <input id="rp" type="password" placeholder="Password" required />
            <input
              id="rrp"
              type="password"
              placeholder="Re write Password"
              required
            />
            <input type="submit" onclick="register(event)" value="Submit" />
          </form>
        </div>
        <div id="forgot" class="comm">
          <h3>Forgot Password</h3>
          <div>
            <form id="forgotForm">
              <input id="fe" type="email" placeholder="Email" required />
              <input type="submit" onclick="forgot(event)" value="Submit" />
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p>&copy; 2024 Baseball Fitness Planer.</p>
    </footer>
  </body>
</html>

<script>
  var emailArray = [];
  var passwordArray = [];

  var loginBox = document.getElementById("login");
  var regBox = document.getElementById("register");
  var forgetBox = document.getElementById("forgot");

  var loginTab = document.getElementById("lt");
  var regTab = document.getElementById("rt");

  function regTabFun(event) {
    event.preventDefault();

    regBox.style.visibility = "visible";
    loginBox.style.visibility = "hidden";
    forgetBox.style.visibility = "hidden";

    regTab.style.backgroundColor = "black"; // Dunklere Farbe für den Registrierungs-Tab
    loginTab.style.backgroundColor = "#444";
  }

  function loginTabFun(event) {
    event.preventDefault();

    regBox.style.visibility = "hidden";
    loginBox.style.visibility = "visible";
    forgetBox.style.visibility = "hidden";

    loginTab.style.backgroundColor = "black"; // Dunklere Farbe für den Login-Tab
    regTab.style.backgroundColor = "#444";
  }

  function forTabFun(event) {
    event.preventDefault();

    regBox.style.visibility = "hidden";
    loginBox.style.visibility = "hidden";
    forgetBox.style.visibility = "visible";

    regTab.style.backgroundColor = "#444";
    loginTab.style.backgroundColor = "#444";
  }

  function register(event) {
    event.preventDefault();

    var email = document.getElementById("re").value;
    var password = document.getElementById("rp").value;
    var passwordRetype = document.getElementById("rrp").value;

    if (email == "") {
      alert("Email required.");
      return;
    } else if (password == "") {
      alert("Password required.");
      return;
    } else if (passwordRetype == "") {
      alert("Password required.");
      return;
    } else if (password != passwordRetype) {
      alert("Password don't match retype your Password.");
      return;
    } else if (emailArray.indexOf(email) == -1) {
      emailArray.push(email);
      passwordArray.push(password);

      //write in json file

      alert(email + "  Thanks for registration. \nTry to login Now");

      document.getElementById("re").value = "";
      document.getElementById("rp").value = "";
      document.getElementById("rrp").value = "";
    } else {
      alert(email + " is already registered.");
      return;
    }
  }

  function login(event) {
    event.preventDefault();

    var email = document.getElementById("se").value;
    var password = document.getElementById("sp").value;

    var i = emailArray.indexOf(email);

    //load passwort arry + email array

    if (emailArray.indexOf(email) == -1) {
      if (email == "") {
        alert("Email required.");
        return;
      }
      alert("No account was found.");
      return;
    } else if (passwordArray[i] != password) {
      if (password == "") {
        alert("Password required.");
        return;
      }
      alert("Password does not match.");
      return;
    } else {
      window.location.href = "Positionsauswahl.html";

      document.getElementById("se").value = "";
      document.getElementById("sp").value = "";
      return;
    }
  }

  function forgot(event) {
    event.preventDefault();

    var email = document.getElementById("fe").value;

    if (emailArray.indexOf(email) == -1) {
      if (email == "") {
        alert("Email required.");
        return;
      }
      alert("No account was found.");
      return;
    }

    alert("An email has been sent to your email. Check it in 24hr. \n Thanks");
    document.getElementById("fe").value = "";
  }

  document.addEventListener("DOMContentLoaded", function () {
    var lastScrollTop = 0;
    var footer = document.querySelector("footer");

    window.addEventListener("scroll", function () {
      var st = window.scrollY || document.documentElement.scrollTop;

      if (st > lastScrollTop) {
        // Scroll down, show the footer
        footer.classList.add("visible");
      } else {
        // Scroll up, hide the footer
        footer.classList.remove("visible");
      }

      lastScrollTop = st <= 0 ? 0 : st;
    });
  });
</script>
